{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { hideLoader } from '../main';\n\nconst myGallery = document.querySelector('.gallery');\n\nfunction galleries(object) {\n  const markup = object.hits\n    .map(hit => {\n      return `<li class=\"gallery-item\">\n  <a href=\"${hit.largeImageURL}\">\n    <img src=\"${hit.webformatURL}\" class=\"gallery-image\" alt=\"${hit.tags}\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b> </br>${hit.likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b> </br>${hit.views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b> </br>${hit.comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b> </br>${hit.downloads}\n    </p>\n  </div>\n</li>`;\n    })\n    .join('');\n  hideLoader();\n  myGallery.insertAdjacentHTML('afterbegin', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n}\n\nexport { myGallery, galleries };\n","import { galleries } from './render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getPictures(inputValue) {\n  const BASE_URL = 'https://pixabay.com/api/?';\n  const searchParams = new URLSearchParams({\n    key: '34206508-2ad29bd7e91dc1db4e67bd855',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = BASE_URL + searchParams;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      return galleries(data);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","import { myGallery } from './js/render-functions';\nimport { getPictures } from './js/pixabay-api';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('span');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  myGallery.innerHTML = '';\n\n  const inputValue = event.target.elements.search.value;\n\n  if (inputValue === '') {\n    return;\n  }\n  showLoader();\n\n  getPictures(inputValue);\n\n  event.target.reset();\n}\n\nfunction showLoader() {\n  loader.classList.add('loader');\n}\n\nexport function hideLoader() {\n  if (loader) {\n    loader.classList.remove('loader');\n  }\n}\n"],"names":["myGallery","galleries","object","markup","hit","hideLoader","SimpleLightbox","getPictures","inputValue","BASE_URL","searchParams","url","response","data","iziToast","error","form","loader","onSubmit","event","showLoader"],"mappings":"6vBAIA,MAAMA,EAAY,SAAS,cAAc,UAAU,EAEnD,SAASC,EAAUC,EAAQ,CACzB,MAAMC,EAASD,EAAO,KACnB,IAAIE,GACI;AAAA,aACAA,EAAI,aAAa;AAAA,gBACdA,EAAI,YAAY,gCAAgCA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,0BAI9CA,EAAI,KAAK;AAAA;AAAA;AAAA,0BAGTA,EAAI,KAAK;AAAA;AAAA;AAAA,6BAGNA,EAAI,QAAQ;AAAA;AAAA;AAAA,8BAGXA,EAAI,SAAS;AAAA;AAAA;AAAA,MAItC,EACA,KAAK,EAAE,EACVC,IACAL,EAAU,mBAAmB,aAAcG,CAAM,EAEhC,IAAIG,EAAe,aAAc,CAChD,YAAa,OACb,aAAc,MACd,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,CCpCO,SAASC,EAAYC,EAAY,CACtC,MAAMC,EAAW,4BACXC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAMF,EAAWC,EAEvB,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,IACAA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EAEIb,EAAUY,CAAI,EACtB,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CChCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,MAAM,EAE5CD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpBnB,EAAU,UAAY,GAEtB,MAAMQ,EAAaW,EAAM,OAAO,SAAS,OAAO,MAE5CX,IAAe,KAGnBY,IAEAb,EAAYC,CAAU,EAEtBW,EAAM,OAAO,QACf,CAEA,SAASC,GAAa,CACpBH,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEO,SAASZ,GAAa,CACvBY,GACFA,EAAO,UAAU,OAAO,QAAQ,CAEpC"}